<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Performance and caching headers -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="theme-color" content="#f97316" />

    <!-- SEO Meta Tags -->
    <title>ChefORG - Sistema de Gestão para Restaurantes | Controle Completo</title>
    <meta
      name="description"
      content="ChefORG é um sistema completo de gestão para restaurantes com controle de mesas, pedidos, cardápio, reservas e muito mais. Otimize sua operação gastronômica."
    />
    <meta
      name="keywords"
      content="sistema restaurante, gestão gastronômica, controle pedidos, reservas online, cardápio digital"
    />
    <meta name="author" content="ChefORG" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://cheforg.com/" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://cheforg.com/" />
    <meta property="og:title" content="ChefORG - Sistema de Gestão para Restaurantes" />
    <meta
      property="og:description"
      content="Sistema completo de gestão para restaurantes com controle de mesas, pedidos, cardápio, reservas e muito mais."
    />
    <meta property="og:image" content="/og-image.jpg" />
    <meta property="og:site_name" content="ChefORG" />
    <meta property="og:locale" content="pt_BR" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://cheforg.com/" />
    <meta property="twitter:title" content="ChefORG - Sistema de Gestão para Restaurantes" />
    <meta
      property="twitter:description"
      content="Sistema completo de gestão para restaurantes com controle de mesas, pedidos, cardápio, reservas e muito mais."
    />
    <meta property="twitter:image" content="/og-image.jpg" />

    <!-- Favicon and PWA icons -->
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/manifest.json" />

    <!-- Resource Hints for Performance -->
    <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
    <link rel="dns-prefetch" href="https://fonts.gstatic.com" />
    <link rel="dns-prefetch" href="https://supabase.co" />

    <!-- Preconnect for critical resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <!-- Preload critical resources -->
    <link rel="modulepreload" href="/src/main.tsx" />
    <link rel="modulepreload" href="/src/App.tsx" />

    <!-- Critical CSS inline (optimized for first paint) -->
    <style>
      /* Critical CSS for initial render */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family:
          'Inter',
          -apple-system,
          BlinkMacSystemFont,
          'Segoe UI',
          Roboto,
          sans-serif;
        line-height: 1.6;
        color: #1f2937;
        background-color: #ffffff;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      #root {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }

      /* Critical layout styles */
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
      }

      .btn-primary {
        background-color: #f97316;
        color: white;
        padding: 0.75rem 1.5rem;
        border-radius: 0.5rem;
        border: none;
        font-weight: 500;
        cursor: pointer;
        transition: background-color 0.2s;
      }

      .btn-primary:hover {
        background-color: #ea580c;
      }

      /* Loading states */
      .loading-spinner {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background: linear-gradient(135deg, #fef7f0 0%, #fed7aa 100%);
      }

      .loading-spinner::after {
        content: '';
        width: 40px;
        height: 40px;
        border: 4px solid #fed7aa;
        border-top: 4px solid #f97316;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      /* Skeleton loading */
      .skeleton {
        background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
        background-size: 200% 100%;
        animation: skeleton-loading 1.5s infinite;
      }

      /* Critical animations */
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      @keyframes skeleton-loading {
        0% {
          background-position: 200% 0;
        }
        100% {
          background-position: -200% 0;
        }
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Critical responsive utilities */
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }

      .focus\:outline-none:focus {
        outline: 2px solid transparent;
        outline-offset: 2px;
      }

      .focus\:ring-2:focus {
        box-shadow: 0 0 0 2px #f97316;
      }

      /* Initial content visibility */
      .animate-fadeIn {
        animation: fadeIn 0.3s ease-out;
      }

      /* Critical navigation styles */
      .nav-link {
        display: inline-flex;
        align-items: center;
        padding: 0.5rem 1rem;
        text-decoration: none;
        color: #4b5563;
        border-radius: 0.375rem;
        transition: all 0.2s;
      }

      .nav-link:hover {
        background-color: #f3f4f6;
        color: #f97316;
      }

      .nav-link.active {
        background-color: #f97316;
        color: white;
      }
    </style>

    <!-- Preload critical fonts -->
    <link
      rel="preload"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"
    />
    <noscript
      ><link
        rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
    /></noscript>

    <!-- Defer non-critical resources -->
    <script>
      // Font loading optimization with performance monitoring
      if ('fonts' in document) {
        const fontLoadStart = performance.now();
        document.fonts.ready
          .then(() => {
            document.documentElement.classList.add('fonts-loaded');
            const fontLoadTime = performance.now() - fontLoadStart;

            // Only log in development
            if (process?.env?.NODE_ENV === 'development') {
              console.log(`Fonts loaded in ${fontLoadTime.toFixed(2)}ms`);
            }
          })
          .catch(() => {
            // Fallback if font loading fails
            document.documentElement.classList.add('fonts-failed');
          });
      }

      // Preload critical resources
      function preloadResource(href, as, type) {
        const link = document.createElement('link');
        link.rel = 'preload';
        link.href = href;
        link.as = as;
        if (type) link.type = type;
        document.head.appendChild(link);
      }

      // Performance monitoring
      if ('performance' in window && 'observe' in PerformanceObserver.prototype) {
        const perfObserver = new PerformanceObserver(list => {
          for (const entry of list.getEntries()) {
            if (entry.entryType === 'largest-contentful-paint') {
              // Track LCP for optimization
              if (process?.env?.NODE_ENV === 'development') {
                console.log(`LCP: ${entry.startTime.toFixed(2)}ms`);
              }
            }
          }
        });

        try {
          perfObserver.observe({ entryTypes: ['largest-contentful-paint'] });
        } catch (e) {
          // Fallback for browsers that don't support LCP
        }
      }
    </script>
  </head>
  <body>
    <div id="root">
      <!-- Loading fallback -->
      <div class="loading-spinner" id="initial-loader"></div>
    </div>

    <!-- Module script with proper loading -->
    <script type="module" src="/src/main.tsx"></script>

    <!-- Remove loader when app loads -->
    <script>
      window.addEventListener('load', () => {
        const loader = document.getElementById('initial-loader');
        if (loader) {
          loader.style.opacity = '0';
          setTimeout(() => loader.remove(), 300);
        }
      });
    </script>

    <!-- Error handling -->
    <script>
      window.addEventListener('error', e => {
        console.error('Application error:', e.error);
      });

      window.addEventListener('unhandledrejection', e => {
        console.error('Unhandled promise rejection:', e.reason);
      });
    </script>
  </body>
</html>
